<!DOCTYPE html>
<html>
<head>
<title>Test Client</title>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script src="js/lz-string-1.4.4.js"></script>

<script>

function createProject() {
    $.post("http://localhost:8000/project", { api_key: "75f5-4d53-b0f4" }, function(result){
        $("#project_id").html(`(${result.id})`);
        console.log(result);
    });
}

function getProjects() {
    $.get("https://localhost:8000/project", { api_key: "75f5-4d53-b0f4" }, function(result){
        $("#projects_count").html(`(${result.length})`);
        console.log(result);
    });
}

function sendSceneData() {
    var sceneData = {
        a: 100,
        b: 200,
        c: "Hello World!"
    };
    var sceneDataStr = JSON.stringify(sceneData);
    var compressedSceneData = LZString144.compressToBase64(sceneDataStr);

    $.post("http://localhost:8000/job", { api_key: "75f5-4d53-b0f4", compressed_scene_data: compressedSceneData }, function(result){
        // $("#project_id").html(`(${result.id})`);
        console.log("Server response: ", result);
    });
}

</script>
</head>
<body>

<button onclick="createProject()">Create project <span id="project_id"></span></button>
<button onclick="getProjects()">Get projects <span id="projects_count"></span></button>
<button onclick="sendSceneData()">Send Scene Data<span id="send_scene_data"></span></button>

</body>
</html>